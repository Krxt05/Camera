<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MIWVIE SHOP</title>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;600&family=Playfair+Display:ital,wght@1,700&display=swap" rel="stylesheet">
    <style>
        body {
            background: linear-gradient(180deg, #FFF0F5 0%, #F8C8DC 100%);
            font-family: 'Kanit', sans-serif;
            color: #5D3A42;
            margin: 0;
            padding-bottom: 50px;
        }
        
        /* APP BAR */
        .app-bar {
            background: rgba(255,255,255,0.9);
            backdrop-filter: blur(10px);
            padding: 15px;
            border-bottom: 1px solid #FFC0CB;
            text-align: center;
            position: fixed; top: 0; left: 0; right: 0; z-index: 1000;
        }
        .app-title {
            font-family: 'Playfair Display', serif; font-weight: 700; font-style: italic;
            color: #D63384; font-size: 20px; margin: 0;
        }

        /* CONTAINER */
        .container {
            max-width: 600px;
            margin: 80px auto 0;
            padding: 20px;
        }

        /* MODEL TITLE */
        .model-title {
            font-family: 'Playfair Display', serif;
            font-weight: 700;
            color: #D63384;
            text-align: center;
            font-size: 32px;
            margin: 20px 0;
            text-shadow: 2px 2px 4px rgba(214, 51, 132, 0.2);
        }

        /* HERO CARD */
        .hero-container {
            position: relative; border-radius: 20px; overflow: hidden;
            box-shadow: 0 10px 20px rgba(255, 105, 180, 0.3); margin-bottom: 20px;
            border: 4px solid #FFF;
            background: #FFF;
        }
        .hero-img {
            width: 100%; display: block; object-fit: cover;
        }
        .status-badge {
            position: absolute; bottom: 15px; right: 15px;
            background: rgba(255, 255, 255, 0.95); padding: 8px 20px;
            border-radius: 30px; font-weight: bold; font-size: 14px;
            backdrop-filter: blur(5px); box-shadow: 0 4px 10px rgba(0,0,0,0.15);
        }

        /* CALENDAR */
        .month-selector {
            text-align: center; margin-bottom: 15px;
        }
        select {
            padding: 8px 15px; border-radius: 20px; border: 1px solid #FFB6C1;
            font-family: 'Kanit'; color: #D63384; outline: none;
        }
        .calendar-grid {
            display: grid; grid-template-columns: repeat(7, 1fr); gap: 5px;
        }
        .cal-header {
            font-size: 12px; font-weight: bold; text-align: center; color: #D63384;
        }
        .cal-cell {
            background: #FFF; border-radius: 8px; height: 45px;
            display: flex; justify-content: center; align-items: center;
            font-size: 14px; color: #444; border: 1px solid #FFE4E1;
            position: relative;
        }

        /* STATUS CLASSES */
        .is-busy { 
            background-color: #FFF0F5; color: #DC143C; font-weight: bold; border: 1px solid #FFB6C1;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23DC143C' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cline x1='18' y1='6' x2='6' y2='18'%3E%3C/line%3E%3Cline x1='6' y1='6' x2='18' y2='18'%3E%3C/line%3E%3C/svg%3E");
            background-size: 60%; background-repeat: no-repeat; background-position: center;
        }
        .is-past { background: #F2F2F2; color: #CCC; border: 1px solid #EEE; }
        .is-today { border: 2px solid #D4AF37; font-weight: bold; }
        .is-empty { background: transparent; border: none; }

        /* MOOD BOARD */
        .mood-board {
            display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 20px;
        }
        .mood-img {
            width: 100%; border-radius: 10px;
        }
    </style>
</head>
<body>

    <div class="app-bar">
        <div class="app-title">‚ú® MIWVIE SHOP ‚ú®</div>
    </div>

    <div class="container">
        <div class="model-title">Canon IXY 10s</div>

        <div class="hero-container">
            <img src="https://i.ebayimg.com/images/g/jtoAAOSwWH9m6YaC/s-l1600.webp" class="hero-img">
            <div class="status-badge" id="today-status">Checking...</div>
        </div>

        <div class="month-selector">
            <label style="font-size:12px; color:#888;">üìÖ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πá‡∏Ñ</label><br>
            <select id="monthDropdown" onchange="renderCalendar()"></select>
        </div>

        <div class="calendar-grid" id="calendar"></div>

        <div style="margin-top: 30px; text-align: center; color: #D63384; font-weight: bold;">üì∏ ‡∏î‡∏π‡∏£‡∏π‡∏õ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÇ‡∏ó‡∏ô‡∏†‡∏≤‡∏û</div>
        <div class="mood-board">
            <img src="https://images.unsplash.com/photo-1520607162513-77705e685727?w=400" class="mood-img">
            <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=400" class="mood-img">
        </div>

    </div>

    <script>
        // --- 1. ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ß‡∏±‡∏ô‡∏à‡∏≠‡∏á (‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ‡πÅ‡∏ó‡∏ô Google Sheets) ---
        // ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö: "YYYY-MM-DD"
        const bookedDates = [
            "2026-02-14", 
            "2026-02-15", 
            "2026-02-20",
            "2026-03-01"
        ];

        // --- 2. ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏õ‡∏è‡∏¥‡∏ó‡∏¥‡∏ô ---
        const today = new Date();
        const monthDropdown = document.getElementById("monthDropdown");
        const calendarDiv = document.getElementById("calendar");
        const todayStatusDiv = document.getElementById("today-status");
        const thMonths = ["", "‡∏°‡∏Å‡∏£‡∏≤‡∏Ñ‡∏°", "‡∏Å‡∏∏‡∏°‡∏†‡∏≤‡∏û‡∏±‡∏ô‡∏ò‡πå", "‡∏°‡∏µ‡∏ô‡∏≤‡∏Ñ‡∏°", "‡πÄ‡∏°‡∏©‡∏≤‡∏¢‡∏ô", "‡∏û‡∏§‡∏©‡∏†‡∏≤‡∏Ñ‡∏°", "‡∏°‡∏¥‡∏ñ‡∏∏‡∏ô‡∏≤‡∏¢‡∏ô", "‡∏Å‡∏£‡∏Å‡∏é‡∏≤‡∏Ñ‡∏°", "‡∏™‡∏¥‡∏á‡∏´‡∏≤‡∏Ñ‡∏°", "‡∏Å‡∏±‡∏ô‡∏¢‡∏≤‡∏¢‡∏ô", "‡∏ï‡∏∏‡∏•‡∏≤‡∏Ñ‡∏°", "‡∏û‡∏§‡∏®‡∏à‡∏¥‡∏Å‡∏≤‡∏¢‡∏ô", "‡∏ò‡∏±‡∏ô‡∏ß‡∏≤‡∏Ñ‡∏°"];

        // ‡∏™‡∏£‡πâ‡∏≤‡∏á Dropdown 12 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏•‡πà‡∏ß‡∏á‡∏´‡∏ô‡πâ‡∏≤
        let currentMonthIdx = 0;
        for (let i = 0; i < 12; i++) {
            let d = new Date(today.getFullYear(), today.getMonth() + i, 1);
            let opt = document.createElement("option");
            opt.value = d.toISOString();
            opt.text = `${thMonths[d.getMonth() + 1]} ${d.getFullYear() + 543}`;
            monthDropdown.add(opt);
        }

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ß‡∏≤‡∏î‡∏õ‡∏è‡∏¥‡∏ó‡∏¥‡∏ô
        function renderCalendar() {
            calendarDiv.innerHTML = "";
            let selectedDate = new Date(monthDropdown.value);
            let year = selectedDate.getFullYear();
            let month = selectedDate.getMonth();

            // ‡∏´‡∏±‡∏ß‡∏ï‡∏≤‡∏£‡∏≤‡∏á
            const days = ['‡∏≠‡∏≤', '‡∏à', '‡∏≠', '‡∏û', '‡∏û‡∏§', '‡∏®', '‡∏™'];
            days.forEach(d => {
                calendarDiv.innerHTML += `<div class="cal-header">${d}</div>`;
            });

            // ‡∏´‡∏≤‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á‡∏ß‡∏±‡∏ô‡πÅ‡∏£‡∏Å
            let firstDay = new Date(year, month, 1).getDay();
            for (let i = 0; i < firstDay; i++) {
                calendarDiv.innerHTML += `<div class="cal-cell is-empty"></div>`;
            }

            // ‡∏ß‡∏ô‡∏•‡∏π‡∏õ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà
            let daysInMonth = new Date(year, month + 1, 0).getDate();
            for (let i = 1; i <= daysInMonth; i++) {
                let checkDate = new Date(year, month, i);
                let dateStr = checkDate.toISOString().split('T')[0]; // YYYY-MM-DD
                let className = "cal-cell";

                // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
                if (checkDate < new Date(today.setHours(0,0,0,0))) {
                    className += " is-past"; // ‡∏≠‡∏î‡∏µ‡∏ï
                } else if (bookedDates.includes(dateStr)) {
                    className += " is-busy"; // ‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏á
                } else if (dateStr === new Date().toISOString().split('T')[0]) {
                    className += " is-today"; // ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ
                }

                calendarDiv.innerHTML += `<div class="${className}">${i}</div>`;
            }
        }

        // ‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ
        let todayStr = new Date().toISOString().split('T')[0];
        if (bookedDates.includes(todayStr)) {
            todayStatusDiv.innerHTML = "‚ùå ‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏á";
            todayStatusDiv.style.color = "#D63384";
        } else {
            todayStatusDiv.innerHTML = "‚úÖ ‡∏ß‡πà‡∏≤‡∏á‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏ä‡πà‡∏≤";
            todayStatusDiv.style.color = "#00C851";
        }

        // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
        renderCalendar();
    </script>
</body>
</html>
